extends layouts/layout  

block content
  // ğŸ”¹ Page title
  h1 ğŸ½ï¸ Recipe List

  // ğŸ”¹ Create a table to display recipes
  table(border="1")
    thead
      tr
        // ğŸ”¹ Table headers
        th ID
        th Title
        th Description
        th Ingredients
        th Steps
        th Category
        th Image

    tbody
      // ğŸ”¹ Loop through the `recipes` array to generate rows dynamically
      each recipe in recipes
        tr
          td= recipe.recipe_id 
          //- ğŸ”¹ Link the recipe title to its detailed view
          td: a(href=`/recipes/${recipe.recipe_id}`)= recipe.title
          td= recipe.description
          td= recipe.ingredients
          td= recipe.steps
          td= recipe.category_name
          td
            //- ğŸ”¹ Display the recipe image, fallback to `default.jpg` if not found
            img(
              src=`/static/images/${recipe.image_url || 'default.jpg'}`  
              alt=recipe.title  
              width="50"
              height="50"
              onerror="this.onerror=null; this.src='/static/images/default.jpg';"
            )
